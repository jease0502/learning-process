---
tags: ros
---
# ROS 介紹

## 簡介

ROS是專為機器人軟體開發所設計出來的一套電腦作業系統架構。可利用這個框架來將機器人軟件與馬達進行連接，或是機器人識別和導航等功能。

而他的目的也就是為了提升機器人研發中的軟件復用率

包括硬體抽象描述、底層驅動程序管理、共用功能的執行、程序間消息傳遞、程序發行包管理，它也提供一些工具和庫用於獲取、建立、編寫和執行多機融合的程序。

## 總體設計

### 4個特點
可區分成4個特點
- 點對點設計
	- 分布式軟件框架
	- 每一個進程都是以一個節點進行運作
	- 傳輸訊息可利用RPC+TCP/UDP通訊系統進行傳輸
		- 從一發送點到接收點
		-  多語言支持
	- 適用多機協同、多模塊同時進行
		- 可利用此功能來將運行負擔進行分壓分割，降低機器運行負擔
- 多語言支持
	- python、c++、java等編成語言
	- 可適用縮耦合網路框架編成方式
		- 每個節點中的編成軟件可不同，最後都可透過ros進行連接
		- 節點中的數據交互，是通過一種語言無關的街口進行交互
- 架構精簡、集成度高
	- 每個功能節點可獨自編程
	- 集成眾多有多個開源
	- 接口統一，可提高軟件復用性
- 組件化工具包豐富
	- 3D可視化工具-rviz
	- 物理仿真平台-gazebo
	- 數據紀錄工具-rosbag
	- QT工具箱-RQT

從上面來看，ROS是一種四位一體的網路框架，他是由：
ROS=通信機制+開發工具+應用功能+生態環境所組成

## 系統實現

### 檔案系層層

檔案系統層分成：
- 元套件
    - 針對某個特殊應用的一系列組合。
- 套件
    - ROS中的軟體主要是以套撿的形式來管理，我們可以把ros套件看成是ros的最小建制單位，一個套件中會包含三點
        - 節點、行程
        - 資料集
        - 設定檔
- 套件清單
    - 每一個套件中會有一個叫做manifest.xml的清單檔，其中放了套件相關資訊：
        - 名稱
        - 版本
        - 作者
        - 授權
- 訊息
    - ros使藉由發送訊息的方式來傳送訊息，這類型的訊息檔可以在副檔名為.msg的檔案中來定義。
        - 也就是訊息檔
    - 路徑位於```our_package/msg/message_files.msg```
- 服務
    - 計算圖層的重要概念之一
    - 路徑：our_package/srv/service_files.srv
- 程式碼
- 雜項檔案

### 計算圖
他是由ros中各行程中的p2p，可共同處理的資料。
- 節點(軟體模塊)
    - 行程
    - 利用ros各種的api進行通訊
- master
    - 中介節點
    - 幫助ros節點彼此相連
- 參數服務器
    - 節點可以設置
- topic
	- 異不
	- 單向通訊
	- 每個節點可透過topic進行發佈數據，與訂閱數據
- 服務
