# 多線程、多進程
---
## 簡介
甚麼情況需要用到多線程、多進程呢?當你需要同時做多件事情時，你便需要用到，舉個例子，一個超商店員一次只能做一件事，如果你要他邊接電話邊結帳，邊做咖啡，這樣是不行的，但是當他擁有三頭六臂時，他便可以輕鬆同時做3件事情，這便是多進程與多線程。

那這兩個又有甚麼分別呢?教科書上寫道：<b>"進程是資源分配的最小單位，線程是CPU調度的最小單位"</b>
下面用表格來整理。


### 比較

| 維度 | 	多進程 | 	多線程 |
| -------- | -------- | -------- |
| 數據共享、同步    | 	數據是分開的:共享複雜，需要用IPC;同步簡單    | 多線程共享進程數據：共享簡單；同步複雜     |
內存、CPU|佔用內存多，切換複雜，CPU利用率低|佔用內存少，切換簡單，CPU利用率高
創建銷毀、切換|創建銷毀、切換複雜，速度慢 |創建銷毀、切換簡單，速度快 
編程調試|編程簡單，調試簡單|編程複雜，調試複雜
可靠性|進程間不會相互影響 |一個線程掛掉將導致整個進程掛掉
分佈式 |適應於多核、多機分佈；如果一台機器不夠，擴展到多台機器比較簡單|適應於多核分佈

### 舉例

- 需要頻繁修改檔案優先使用線程。
    - web sever。依次建立一個線程，斷了就銷毀線程。如果是用進程，創建和銷毀的整個服務器將會直接不見。
- 需要進行大量計算的優先使用線程。
    - 所謂大量計算，當然就是要消耗很多cpu，切換頻繁了，這種情況線程是最合適的。
        - 實例：圖像處理、算法處理
- 可能擴展到多機分佈的用進程，多核分佈的用線程。

---



